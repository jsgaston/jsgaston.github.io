<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conexión con DeepSeek - Solución Alternativa</title>
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3a0ca3;
            --accent-color: #7209b7;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4cc9f0;
            --warning-color: #f72585;
            --border-radius: 12px;
            --box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: var(--dark-color);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
        }
        
        h1 {
            color: var(--secondary-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: var(--accent-color);
            font-size: 1.2rem;
            font-weight: 400;
        }
        
        .card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .card-title {
            color: var(--secondary-color);
            margin-bottom: 15px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .tab {
            padding: 12px 20px;
            cursor: pointer;
            background: #f1f8ff;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
            transition: all 0.3s;
        }
        
        .tab.active {
            background: var(--primary-color);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .iframe-container {
            width: 100%;
            height: 600px;
            border: 2px solid #e2e8f0;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--secondary-color);
        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }
        
        .instructions {
            background: #f1f8ff;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 30px;
        }
        
        .instructions h3 {
            color: var(--secondary-color);
            margin-bottom: 15px;
        }
        
        .instructions ol {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
        }
        
        .status {
            padding: 10px 15px;
            border-radius: var(--border-radius);
            margin-top: 15px;
            display: none;
        }
        
        .status.success {
            background: #d1fae5;
            color: #065f46;
            display: block;
        }
        
        .status.error {
            background: #fee2e2;
            color: #b91c1c;
            display: block;
        }
        
        .solution-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .solution-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: transform 0.3s;
        }
        
        .solution-card:hover {
            transform: translateY(-5px);
        }
        
        .solution-card h3 {
            color: var(--secondary-color);
            margin-bottom: 15px;
        }
        
        @media (max-width: 768px) {
            .solution-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Solución: Error "Insufficient Balance"</h1>
            <p class="subtitle">Alternativas para usar DeepSeek sin créditos en la API</p>
        </header>
        
        <div class="card">
            <h2 class="card-title">¿Por qué aparece el error "Insufficient Balance"?</h2>
            <p>Este error significa que tu cuenta de DeepSeek API no tiene suficientes créditos para procesar solicitudes. La API de DeepSeek funciona con un sistema de créditos que se consumen con cada solicitud.</p>
            
            <div class="solution-options">
                <div class="solution-card">
                    <h3>Opción 1: Recargar Créditos</h3>
                    <p>Accede a tu cuenta de DeepSeek y añade créditos a tu API key.</p>
                    <button onclick="window.open('https://platform.deepseek.com/', '_blank')">
                        Ir a DeepSeek
                    </button>
                </div>
                
                <div class="solution-card">
                    <h3>Opción 2: Usar mediante iframe</h3>
                    <p>Accede a DeepSeek Chat a través de un iframe (puede tener limitaciones).</p>
                    <button onclick="showTab('iframe-tab')">
                        Usar iframe
                    </button>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <div class="tab active" onclick="showTab('api-tab')">Conexión API</div>
            <div class="tab" onclick="showTab('iframe-tab')">Conexión por iframe</div>
        </div>
        
        <div id="api-tab" class="tab-content active">
            <div class="card">
                <h2 class="card-title">Conexión mediante API</h2>
                <p>Si decides recargar créditos en tu cuenta de DeepSeek, puedes usar esta opción.</p>
                
                <div class="form-group">
                    <label for="api-key">Clave API de DeepSeek</label>
                    <input type="password" id="api-key" placeholder="Ingresa tu API key">
                </div>
                
                <div class="form-group">
                    <label for="api-endpoint">Endpoint de la API</label>
                    <select id="api-endpoint">
                        <option value="https://api.deepseek.com/v1/chat/completions">Endpoint Oficial</option>
                    </select>
                </div>
                
                <button id="test-api">
                    Probar Conexión
                </button>
                
                <div id="api-status" class="status"></div>
            </div>
        </div>
        
        <div id="iframe-tab" class="tab-content">
            <div class="card">
                <h2 class="card-title">Conexión mediante iframe</h2>
                <p>Esta opción te permite usar DeepSeek Chat directamente a través de su interfaz web.</p>
                
                <div class="form-group">
                    <label for="iframe-url">URL de DeepSeek Chat</label>
                    <input type="text" id="iframe-url" value="https://chat.deepseek.com/" placeholder="URL de DeepSeek Chat">
                </div>
                
                <button onclick="loadIframe()">
                    Cargar DeepSeek Chat
                </button>
            </div>
            
            <div class="iframe-container">
                <iframe id="deepseek-iframe" src="about:blank"></iframe>
            </div>
        </div>
        
        <div class="instructions">
            <h3>Ventajas y desventajas de cada método</h3>
            
            <div class="solution-options">
                <div>
                    <h4>Conexión API</h4>
                    <ul>
                        <li><strong>Ventajas:</strong> Mayor control, integración personalizada, respuesta en JSON</li>
                        <li><strong>Desventajas:</strong> Requiere créditos, necesita configuración</li>
                    </ul>
                </div>
                
                <div>
                    <h4>Conexión iframe</h4>
                    <ul>
                        <li><strong>Ventajas:</strong> No requiere créditos, interfaz completa</li>
                        <li><strong>Desventajas:</strong> Menor control, puede haber restricciones de embedding</li>
                    </ul>
                </div>
            </div>
            
            <p>Si necesitas una integración personalizada en tu aplicación, la opción de API es la mejor pero requiere créditos. Si solo necesitas acceso al chat, el iframe puede ser una solución temporal.</p>
        </div>
    </div>

    <script>
        function showTab(tabId) {
            // Ocultar todos los tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Mostrar el tab seleccionado
            document.getElementById(tabId).classList.add('active');
            
            // Activar el botón del tab
            document.querySelectorAll('.tab').forEach(tab => {
                if (tab.onclick.toString().includes(tabId)) {
                    tab.classList.add('active');
                }
            });
        }
        
        function loadIframe() {
            const url = document.getElementById('iframe-url').value;
            if (url) {
                document.getElementById('deepseek-iframe').src = url;
            } else {
                alert('Por favor, ingresa una URL válida');
            }
        }
        
        document.getElementById('test-api').addEventListener('click', async function() {
            const apiKey = document.getElementById('api-key').value;
            const apiStatus = document.getElementById('api-status');
            
            if (!apiKey) {
                apiStatus.textContent = 'Por favor, ingresa una API key';
                apiStatus.classList.add('error');
                apiStatus.classList.remove('success');
                apiStatus.style.display = 'block';
                return;
            }
            
            apiStatus.textContent = 'Probando conexión...';
            apiStatus.classList.remove('error', 'success');
            apiStatus.style.display = 'block';
            
            try {
                // Simulamos una prueba de conexión
                const response = await fetch('https://api.deepseek.com/v1/models', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`
                    }
                });
                
                if (response.ok) {
                    apiStatus.textContent = '¡Conexión exitosa! Tu API key es válida.';
                    apiStatus.classList.remove('error');
                    apiStatus.classList.add('success');
                } else {
                    throw new Error(`Error HTTP: ${response.status}`);
                }
            } catch (error) {
                apiStatus.textContent = 'Error: ' + error.message;
                apiStatus.classList.remove('success');
                apiStatus.classList.add('error');
            }
        });
        
        // Cargar el iframe por defecto
        window.onload = function() {
            document.getElementById('iframe-url').value = 'https://chat.deepseek.com/';
        };
    </script>
</body>
</html>
