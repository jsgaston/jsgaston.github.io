<!DOCTYPE html>
<html>
<head>
  <title>Mapas de tr√°fico, mar√≠timos y a√©reos</title>
  <style>
    body { font-family: Arial; background-color: #f0f0f0; padding: 20px; }
    button { margin: 5px; padding: 10px; cursor: pointer; }
    iframe, #aismap { width: 100%; height: 400px; border: 1px solid #ccc; display: none; }
  </style>
</head>
<body>

  <h2>Mapas en vivo - Alicante</h2>
  <button onclick="cambiarMapa('waze')">üöó Tr√°fico (Waze)</button>
  <button onclick="cambiarMapa('barcos pesqueros')">üé£ Marine Pesqueros</button>
  <button onclick="cambiarMapa('barcos')">üö¢ VesselFinder</button>
  <button onclick="cambiarMapa('aviones')">‚úàÔ∏è Aviones (ADS-B)</button>

  <div id="contenedorMapa">
    <iframe id="iframeMapa"></iframe>
    <div id="aismap"></div>
  </div>

  <script>
    function cambiarMapa(tipo) {
      const iframe = document.getElementById('iframeMapa');
      const vesselDiv = document.getElementById('aismap');

      iframe.style.display = 'none';
      vesselDiv.style.display = 'none';

      if (tipo === 'waze') {
        iframe.src = "https://embed.waze.com/iframe?zoom=13&lat=38.345&lon=-0.481";
        iframe.style.display = 'block';
      } else if (tipo === 'barcos pesqueros') {
        iframe.src = "https://globalfishingwatch.org/map/?lat=38.345&lon=-0.481&zoom=5";
        iframe.style.display = 'block';
      } else if (tipo === 'aviones') {
        iframe.src = "https://globe.adsbexchange.com/?zoom=10&lat=38.345&lon=-0.481&hideSidebar";
        iframe.style.display = 'block';
      } else if (tipo === 'barcos') {
        // Evita recargar el mapa si ya est√° cargado
        if (!window.vesselfinderCargado) {
          window.vesselfinderCargado = true;

          // Variables de configuraci√≥n
          window.width = "100%";
          window.height = "400";
          window.latitude = "38.345";
          window.longitude = "-0.481";
          window.zoom = "10";
          window.names = true;

          // Fleet opcional
          window.fleet = "e48ab3d80a0e2a9bf28930f2dd08800c";
          window.fleet_name = "Carnival";
          window.fleet_timespan = "1440";

          // Carga del script
          const script = document.createElement('script');
          script.src = "https://www.vesselfinder.com/aismap.js";
          document.body.appendChild(script);
        }

        vesselDiv.style.display = 'block';
      }
    }
  </script>

</body>
</html>
