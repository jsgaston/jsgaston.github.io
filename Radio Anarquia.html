<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor de Música</title>
</head>
<body>
<audio id="radioPlayer" controls autoplay></audio>

<script>
    // Función para mezclar el array de manera aleatoria
    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // Lista de canciones obtenidas de la carpeta Musica
    var playlist = [
        "/Musica/04 Comancheria.m4a",
        "/Musica/05 No Pasaran.m4a",
        "/Musica/03 Forjado a Fuego.m4a",
        "/Musica/04 La Estanquera de Saigon.m4a",
        "/Musica/04 Trabajadoreas.m4a",
        "/Musica/01 Libertad.m4a",
        "/Musica/08 Adentro.m4a",
        "/Musica/02 Esto No para.m4a",
        "/Musica/13 Insolacion.m4a",
    ];

    // Mezcla la lista de canciones
    shuffle(playlist);

    var currentTrack = 0;
    var radioPlayer = document.getElementById('radioPlayer');

    // Función para reproducir la siguiente pista de manera aleatoria
    function playRandomTrack() {
        currentTrack = (currentTrack + 1) % playlist.length;
        radioPlayer.src = playlist[currentTrack];
        radioPlayer.play();
        // Imprime el nombre de la canción que se está reproduciendo
        var songName = playlist[currentTrack].split('/').pop().split('.')[0];
        console.log("Reproduciendo: " + songName);
    }

    // Evento 'ended' para avanzar a la siguiente pista
    radioPlayer.addEventListener('ended', playRandomTrack);

    // Reproduce automáticamente la primera pista al cargar la página
    window.addEventListener('load', function() {
        playRandomTrack();
    });
</script>
</body>
</html>

    </script>
</body>

</html>
